{"ast":null,"code":"'use strict';\n\nvar utils = require('../utils');\n/**\n * Convert a data object to FormData\n * @param {Object} obj\n * @param {?Object} [formData]\n * @returns {Object}\n **/\n\n\nfunction toFormData(obj, formData) {\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new FormData();\n  var stack = [];\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  function build(data, parentKey) {\n    if (utils.isPlainObject(data) || utils.isArray(data)) {\n      if (stack.indexOf(data) !== -1) {\n        throw Error('Circular reference detected in ' + parentKey);\n      }\n\n      stack.push(data);\n      utils.forEach(data, function each(value, key) {\n        if (utils.isUndefined(value)) return;\n        var fullKey = parentKey ? parentKey + '.' + key : key;\n        var arr;\n\n        if (value && !parentKey && typeof value === 'object') {\n          if (utils.endsWith(key, '{}')) {\n            // eslint-disable-next-line no-param-reassign\n            value = JSON.stringify(value);\n          } else if (utils.endsWith(key, '[]') && (arr = utils.toArray(value))) {\n            // eslint-disable-next-line func-names\n            arr.forEach(function (el) {\n              !utils.isUndefined(el) && formData.append(fullKey, convertValue(el));\n            });\n            return;\n          }\n        }\n\n        build(value, fullKey);\n      });\n      stack.pop();\n    } else {\n      formData.append(parentKey, convertValue(data));\n    }\n  }\n\n  build(obj);\n  return formData;\n}\n\nmodule.exports = toFormData;","map":{"version":3,"sources":["/Users/maksimkaplun/веб-розробка/react/react_app/node_modules/axios/lib/helpers/toFormData.js"],"names":["utils","require","toFormData","obj","formData","FormData","stack","convertValue","value","isDate","toISOString","isArrayBuffer","isTypedArray","Blob","Buffer","from","build","data","parentKey","isPlainObject","isArray","indexOf","Error","push","forEach","each","key","isUndefined","fullKey","arr","endsWith","JSON","stringify","toArray","el","append","pop","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,UAAD,CAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAASC,UAAT,CAAoBC,GAApB,EAAyBC,QAAzB,EAAmC;AACjC;AACAA,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,IAAIC,QAAJ,EAAvB;AAEA,MAAIC,KAAK,GAAG,EAAZ;;AAEA,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAIA,KAAK,KAAK,IAAd,EAAoB,OAAO,EAAP;;AAEpB,QAAIR,KAAK,CAACS,MAAN,CAAaD,KAAb,CAAJ,EAAyB;AACvB,aAAOA,KAAK,CAACE,WAAN,EAAP;AACD;;AAED,QAAIV,KAAK,CAACW,aAAN,CAAoBH,KAApB,KAA8BR,KAAK,CAACY,YAAN,CAAmBJ,KAAnB,CAAlC,EAA6D;AAC3D,aAAO,OAAOK,IAAP,KAAgB,UAAhB,GAA6B,IAAIA,IAAJ,CAAS,CAACL,KAAD,CAAT,CAA7B,GAAiDM,MAAM,CAACC,IAAP,CAAYP,KAAZ,CAAxD;AACD;;AAED,WAAOA,KAAP;AACD;;AAED,WAASQ,KAAT,CAAeC,IAAf,EAAqBC,SAArB,EAAgC;AAC9B,QAAIlB,KAAK,CAACmB,aAAN,CAAoBF,IAApB,KAA6BjB,KAAK,CAACoB,OAAN,CAAcH,IAAd,CAAjC,EAAsD;AACpD,UAAIX,KAAK,CAACe,OAAN,CAAcJ,IAAd,MAAwB,CAAC,CAA7B,EAAgC;AAC9B,cAAMK,KAAK,CAAC,oCAAoCJ,SAArC,CAAX;AACD;;AAEDZ,MAAAA,KAAK,CAACiB,IAAN,CAAWN,IAAX;AAEAjB,MAAAA,KAAK,CAACwB,OAAN,CAAcP,IAAd,EAAoB,SAASQ,IAAT,CAAcjB,KAAd,EAAqBkB,GAArB,EAA0B;AAC5C,YAAI1B,KAAK,CAAC2B,WAAN,CAAkBnB,KAAlB,CAAJ,EAA8B;AAC9B,YAAIoB,OAAO,GAAGV,SAAS,GAAGA,SAAS,GAAG,GAAZ,GAAkBQ,GAArB,GAA2BA,GAAlD;AACA,YAAIG,GAAJ;;AAEA,YAAIrB,KAAK,IAAI,CAACU,SAAV,IAAuB,OAAOV,KAAP,KAAiB,QAA5C,EAAsD;AACpD,cAAIR,KAAK,CAAC8B,QAAN,CAAeJ,GAAf,EAAoB,IAApB,CAAJ,EAA+B;AAC7B;AACAlB,YAAAA,KAAK,GAAGuB,IAAI,CAACC,SAAL,CAAexB,KAAf,CAAR;AACD,WAHD,MAGO,IAAIR,KAAK,CAAC8B,QAAN,CAAeJ,GAAf,EAAoB,IAApB,MAA8BG,GAAG,GAAG7B,KAAK,CAACiC,OAAN,CAAczB,KAAd,CAApC,CAAJ,EAA+D;AACpE;AACAqB,YAAAA,GAAG,CAACL,OAAJ,CAAY,UAASU,EAAT,EAAa;AACvB,eAAClC,KAAK,CAAC2B,WAAN,CAAkBO,EAAlB,CAAD,IAA0B9B,QAAQ,CAAC+B,MAAT,CAAgBP,OAAhB,EAAyBrB,YAAY,CAAC2B,EAAD,CAArC,CAA1B;AACD,aAFD;AAGA;AACD;AACF;;AAEDlB,QAAAA,KAAK,CAACR,KAAD,EAAQoB,OAAR,CAAL;AACD,OAnBD;AAqBAtB,MAAAA,KAAK,CAAC8B,GAAN;AACD,KA7BD,MA6BO;AACLhC,MAAAA,QAAQ,CAAC+B,MAAT,CAAgBjB,SAAhB,EAA2BX,YAAY,CAACU,IAAD,CAAvC;AACD;AACF;;AAEDD,EAAAA,KAAK,CAACb,GAAD,CAAL;AAEA,SAAOC,QAAP;AACD;;AAEDiC,MAAM,CAACC,OAAP,GAAiBpC,UAAjB","sourcesContent":["'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Convert a data object to FormData\n * @param {Object} obj\n * @param {?Object} [formData]\n * @returns {Object}\n **/\n\nfunction toFormData(obj, formData) {\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new FormData();\n\n  var stack = [];\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  function build(data, parentKey) {\n    if (utils.isPlainObject(data) || utils.isArray(data)) {\n      if (stack.indexOf(data) !== -1) {\n        throw Error('Circular reference detected in ' + parentKey);\n      }\n\n      stack.push(data);\n\n      utils.forEach(data, function each(value, key) {\n        if (utils.isUndefined(value)) return;\n        var fullKey = parentKey ? parentKey + '.' + key : key;\n        var arr;\n\n        if (value && !parentKey && typeof value === 'object') {\n          if (utils.endsWith(key, '{}')) {\n            // eslint-disable-next-line no-param-reassign\n            value = JSON.stringify(value);\n          } else if (utils.endsWith(key, '[]') && (arr = utils.toArray(value))) {\n            // eslint-disable-next-line func-names\n            arr.forEach(function(el) {\n              !utils.isUndefined(el) && formData.append(fullKey, convertValue(el));\n            });\n            return;\n          }\n        }\n\n        build(value, fullKey);\n      });\n\n      stack.pop();\n    } else {\n      formData.append(parentKey, convertValue(data));\n    }\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nmodule.exports = toFormData;\n"]},"metadata":{},"sourceType":"script"}